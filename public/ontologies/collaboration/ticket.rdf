<?xml version="1.0" encoding='ISO-8859-1'?>

<!DOCTYPE rdf:RDF [
  <!ENTITY dstore "http://hpi-web.de/ns/dstore/0.1/" >
  <!ENTITY ticket   "http://hpi-web.de/ns/dstore/ticket/0.1/" >
  <!ENTITY web    "http://hpi-web.de/ns/dstore/web/0.1/" >
  <!ENTITY owl    "http://www.w3.org/2002/07/owl#" > 
  <!ENTITY rdf    "http://www.w3.org/1999/02/22-rdf-syntax-ns#" > 
  <!ENTITY rdfs   "http://www.w3.org/2000/01/rdf-schema#" > 
  <!ENTITY xsd    "http://www.w3.org/2001/XMLSchema#" > 
  <!ENTITY dc     "http://purl.org/dc/elements/1.1/" > 
  <!ENTITY foaf   "http://xmlns.com/foaf/0.1/" >  
]>

<rdf:RDF
	xmlns         ="&ticket;"
    xml:base      ="&ticket;"
    xmlns:ticket    ="&ticket;"
    xmlns:dstore  ="&dstore;"
    xmlns:web     ="&web;"    
    xmlns:owl     ="&owl;"
    xmlns:rdf     ="&rdf;"
    xmlns:rdfs    ="&rdfs;"
    xmlns:xsd     ="&xsd;"
    xmlns:dc      ="&dc;"
	  xmlns:foaf    ="&foaf;"    
>
  <!-- About the dstore Vocabulary -->
  <owl:Ontology rdf:about="&ticket;">
    <dc:title rdf:datatype="&xsd;string">d.store ticket Repository Ontology v0.1</dc:title>
    <dc:creator rdf:datatype="&xsd;string">Thomas Kowark</dc:creator>
    <dc:format rdf:datatype="&xsd;string">application/rdf+xml</dc:format>
	  <dstore:classlabel rdf:datatype="&xsd;string">ticket</dstore:classlabel>	        
  </owl:Ontology>

  <!-- =============== -->
  <!--  Classes        -->
  <!-- =============== -->
  <rdfs:Class rdf:about="&ticket;Ticket">
  	<rdf:type rdf:resource="&owl;Class"/>
  	<rdfs:subClassOf rdf:resource="&dstore;OntologyResource"/>
  	<rdfs:subClassOf rdf:resource="&web;WebResource"/>
  	<rdfs:isDefinedBy rdf:resource="&ticket;"/>
  	<dstore:classlabel rdf:datatype="&xsd;string">ticket</dstore:classlabel>	
  	<rdfs:comment rdf:datatype="&xsd;string">A Bug Tracking Item</rdfs:comment>
  </rdfs:Class>

  <rdfs:Class rdf:about="&ticket;TicketRevision">
  	<rdf:type rdf:resource="&owl;Class"/>
  	<rdfs:isDefinedBy rdf:resource="&ticket;"/>
  	<dstore:classlabel rdf:datatype="&xsd;string">TicketRevision</dstore:classlabel>
  	<rdfs:comment rdf:datatype="&xsd;string">Revision of a Ticket</rdfs:comment>
  	<rdfs:subClassOf rdf:resource="&ticket;Ticket"/>
  </rdfs:Class>

  <!-- ================== -->
  <!-- Person extensions  -->
  <!-- ================== -->

  <!-- Person > ticketname > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;ticketname">
  	<rdf:type rdf:resource="&dstore;AliasAttribute"/>
  	<rdfs:label xml:lang="en">ticket account</rdfs:label>
    <rdfs:comment xml:lang="en">A person's ticket account name</rdfs:comment>
    <rdfs:domain rdf:resource="&dstore;Agent"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>

  <!-- ================== -->
  <!-- Ticket             -->
  <!-- ================== -->

  <!-- Ticket > ownedBy > Person -->
  <dstore:OntologyRelation rdf:about="&ticket;ownedBy">
    <rdfs:label xml:lang="en">owned by</rdfs:label>
    <rdfs:comment xml:lang="en">The owner of a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range  rdf:resource="&dstore;Agent"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
    <owl:inverseOf rdf:resource="&ticket;ownedBy"/>
    <dstore:refersTo rdf:resource="&ticket;ticketname"/>        
  </dstore:OntologyRelation>
  
  <!-- Person > ownerOf > Ticket -->
  <dstore:OntologyRelation rdf:about="&ticket;ownerOf">
    <rdfs:label xml:lang="en">owner of</rdfs:label>
    <rdfs:comment xml:lang="en">The owner of a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&dstore;Agent"/>
    <rdfs:range  rdf:resource="&ticket;Ticket"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
    <owl:inverseOf rdf:resource="&ticket;ownedBy"/>        
  </dstore:OntologyRelation>
  
  <!-- Ticket > summary > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;summary">
  <rdfs:label xml:lang="en">summary</rdfs:label>
    <rdfs:comment xml:lang="en">Brief summary of the ticket content. Can change in revisions</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>
  
  <!-- Ticket > status > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;status">
  <rdfs:label xml:lang="en">status</rdfs:label>
    <rdfs:comment xml:lang="en">The statusof a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>
  
    <!-- Ticket > priority > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;priority">
  <rdfs:label xml:lang="en">priority</rdfs:label>
    <rdfs:comment xml:lang="en">The priorityof a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>
  
    <!-- Ticket > keywords > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;keywords">
  <rdfs:label xml:lang="en">keywords</rdfs:label>
    <rdfs:comment xml:lang="en">The keywords of a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>
  
    <!-- Ticket > resolution > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;resolution">
  <rdfs:label xml:lang="en">resolution</rdfs:label>
    <rdfs:comment xml:lang="en">The resolution of a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>

    <!-- Ticket > comment > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;comment">
  <rdfs:label xml:lang="en">comment</rdfs:label>
    <rdfs:comment xml:lang="en">A comment for a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>

    <!-- Ticket > closed_at > xsd:dateTime -->
  <dstore:OntologyAttribute rdf:about="&ticket;closed_at">
  <rdfs:label xml:lang="en">closed_at</rdfs:label>
    <rdfs:comment xml:lang="en">Date when a ticket was closed</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range  rdf:resource="&xsd;dateTime"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>

    <!-- Ticket > description > string -->
  <dstore:OntologyAttribute rdf:about="&ticket;description">
  <rdfs:label xml:lang="en">description</rdfs:label>
    <rdfs:comment xml:lang="en">The description of a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyAttribute>
  
  <!-- Ticket > createdBy > Person -->
  <dstore:OntologyRelation rdf:about="&ticket;createdBy">
	  <rdfs:label xml:lang="en">created by</rdfs:label>
    <rdfs:comment xml:lang="en">The creator of a ticket revision</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range  rdf:resource="&dstore;Agent"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
	  <owl:inverseOf rdf:resource="&ticket;hasCreated"/>
    <dstore:refersTo rdf:resource="&ticket;ticketname"/>	      
  </dstore:OntologyRelation>

  <!-- Person > hasCreated > Ticket -->
  <dstore:OntologyRelation rdf:about="&ticket;hasCreated">
	  <rdfs:label xml:lang="en">hasCreated</rdfs:label>
    <rdfs:comment xml:lang="en">A TicketRevision created by a person</rdfs:comment>
	  <rdfs:domain rdf:resource="&dstore;Agent"/>	
    <rdfs:range rdf:resource="&ticket;Ticket"/>
	  <owl:inverseOf rdf:resource="&ticket;createdBy"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
  </dstore:OntologyRelation>
  
  <!-- Ticket > references > Ticket -->
  <dstore:OntologyRelation rdf:about="&ticket;references">
    <rdfs:label xml:lang="en">references</rdfs:label>
    <rdfs:comment xml:lang="en">Tickets can reference one another</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range  rdf:resource="&ticket;Ticket"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
    <owl:inverseOf rdf:resource="&ticket;referencedBy"/>
  </dstore:OntologyRelation>

  <!-- Ticket > referenceBy > Ticket -->
  <dstore:OntologyRelation rdf:about="&ticket;referenceBy">
    <rdfs:label xml:lang="en">referenceBy</rdfs:label>
    <rdfs:comment xml:lang="en">Tickets can reference one another</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range  rdf:resource="&ticket;Ticket"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
    <owl:inverseOf rdf:resource="&ticket;references"/>
  </dstore:OntologyRelation>

  <!-- TicketRevision > revisionOf > Ticket -->
  <dstore:OntologyRelation rdf:about="&ticket;revisionOf">
    <rdfs:label xml:lang="en">revisionOf</rdfs:label>
    <rdfs:comment xml:lang="en">The Ticket that a revision belongs to</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;TicketRevision"/>
    <rdfs:range  rdf:resource="&ticket;Ticket"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
    <owl:inverseOf rdf:resource="&ticket;revision"/>
  </dstore:OntologyRelation>

  <!-- Ticket > revision > TicketRevision -->
  <dstore:OntologyRelation rdf:about="&ticket;revision">
    <rdfs:label xml:lang="en">revision</rdfs:label>
    <rdfs:comment xml:lang="en">A TicketRevision that belongs to a ticket</rdfs:comment>
    <rdfs:domain rdf:resource="&ticket;Ticket"/>
    <rdfs:range  rdf:resource="&ticket;TicketRevision"/>
    <rdfs:isDefinedBy rdf:resource="&ticket;"/>
    <owl:inverseOf rdf:resource="&ticket;revisionOf"/>
  </dstore:OntologyRelation>

</rdf:RDF>