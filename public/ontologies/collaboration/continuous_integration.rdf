<?xml version="1.0" encoding='ISO-8859-1'?>

<!DOCTYPE rdf:RDF [
  <!ENTITY dstore "http://hpi-web.de/ns/dstore/0.1/" >
  <!ENTITY continuous_integration   "http://hpi-web.de/ns/dstore/continuous_integration/0.1/" >
  <!ENTITY web    "http://hpi-web.de/ns/dstore/web/0.1/" >
  <!ENTITY owl    "http://www.w3.org/2002/07/owl#" > 
  <!ENTITY rdf    "http://www.w3.org/1999/02/22-rdf-syntax-ns#" > 
  <!ENTITY rdfs   "http://www.w3.org/2000/01/rdf-schema#" > 
  <!ENTITY xsd    "http://www.w3.org/2001/XMLSchema#" > 
  <!ENTITY dc     "http://purl.org/dc/elements/1.1/" >
  <!ENTITY swrl   "http://www.w3.org/2003/11/swrl#" >  
]>

<rdf:RDF
	xmlns         ="&continuous_integration;"
    xml:base      ="&continuous_integration;"
    xmlns:continuous_integration    ="&continuous_integration;"
    xmlns:dstore  ="&dstore;"
    xmlns:web     ="&web;"    
    xmlns:owl     ="&owl;"
    xmlns:rdf     ="&rdf;"
    xmlns:rdfs    ="&rdfs;"
    xmlns:xsd     ="&xsd;"
    xmlns:dc      ="&dc;"
	xmlns:swrl    ="&swrl;"    
>
  <!-- About the dstore Vocabulary -->
  <owl:Ontology rdf:about="&continuous_integration;">
    <dc:title rdf:datatype="&xsd;string">d.store continuous_integration Server Build Ontology v0.1</dc:title>
    <dc:creator rdf:datatype="&xsd;string">Thomas Kowark</dc:creator>
    <dc:format rdf:datatype="&xsd;string">application/rdf+xml</dc:format>
	  <dstore:classlabel rdf:datatype="&xsd;string">continuous_integration</dstore:classlabel>	     
  </owl:Ontology>

  <!-- =============== -->
  <!--  Classes        -->
  <!-- =============== -->
  <rdfs:Class rdf:about="&continuous_integration;CiBuild">
  	<rdf:type rdf:resource="&owl;Class"/>
  	<rdfs:subClassOf rdf:resource="&dstore;OntologyResource"/>
  	<rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  	<dstore:classlabel rdf:datatype="&xsd;string">CIBuild</dstore:classlabel>	
  	<rdfs:comment rdf:datatype="&xsd;string">A Build on the CI Server</rdfs:comment>
  	<rdfs:subClassOf rdf:resource="&web;WebResource"/>
  </rdfs:Class>
  
  <rdfs:Class rdf:about="&continuous_integration;CiJob">
  	<rdf:type rdf:resource="&owl;Class"/>
  	<rdfs:subClassOf rdf:resource="&dstore;OntologyResource"/>
  	<rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  	<dstore:classlabel rdf:datatype="&xsd;string">CIJob</dstore:classlabel>	
  	<rdfs:comment rdf:datatype="&xsd;string">A Job on the CI Server</rdfs:comment>
  	<rdfs:subClassOf rdf:resource="&web;WebResource"/>
  </rdfs:Class>

  <!-- ================== -->
  <!-- Person extensions  -->
  <!-- ================== -->

  <!-- Person > ci_server_name > string -->
  <dstore:OntologyAttribute rdf:about="&continuous_integration;ci_server_name">
  	<rdf:type rdf:resource="&dstore;AliasAttribute"/>
  	<rdfs:label xml:lang="en">CI Server account</rdfs:label>
    <rdfs:comment xml:lang="en">A person's CI server account name</rdfs:comment>
    <rdfs:domain rdf:resource="&dstore;Agent"/>
    <rdfs:range rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  </dstore:OntologyAttribute>

  <!-- ================== -->
  <!-- CIBuild            -->
  <!-- ================== -->

  <!-- CiJob > build > CiBuild -->
  <dstore:OntologyRelation rdf:about="&continuous_integration;build">
	<rdfs:label xml:lang="en">a build of a ci job</rdfs:label>
    <rdfs:comment xml:lang="en">a build of a ci job</rdfs:comment>
    <rdfs:domain rdf:resource="&continuous_integration;CiJob"/>
    <rdfs:range  rdf:resource="&continuous_integration;CiBuild"/>
    <owl:inverseOf rdf:resource="&continuous_integration;job"/>	
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  </dstore:OntologyRelation> 

  <!-- CiBuild > job > CiJob -->
  <dstore:OntologyRelation rdf:about="&continuous_integration;job">
	<rdfs:label xml:lang="en">a job a ci build belongs to</rdfs:label>
    <rdfs:comment xml:lang="en">a job a ci build belongs to</rdfs:comment>
    <rdfs:domain rdf:resource="&continuous_integration;CiBuild"/>
    <rdfs:range  rdf:resource="&continuous_integration;CiJob"/>
    <owl:inverseOf rdf:resource="&continuous_integration;build"/>	
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  </dstore:OntologyRelation> 
  
  <!-- CiBuild > duration > nonNegativeInteger -->
  <dstore:OntologyAttribute rdf:about="&continuous_integration;duration">
  	<rdfs:label xml:lang="en">duration of a ci job in milliseconds</rdfs:label>
    <rdfs:comment xml:lang="en">duration of a ci job in milliseconds</rdfs:comment>
    <rdfs:domain rdf:resource="&continuous_integration;CiBuild"/>
    <rdfs:range  rdf:resource="&xsd;nonNegativeInteger"/>
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  </dstore:OntologyAttribute>

  <!-- CiBuild > success > boolean -->
  <dstore:OntologyAttribute rdf:about="&continuous_integration;success">
  	<rdfs:label xml:lang="en">states whether a job was successful or not</rdfs:label>
    <rdfs:comment xml:lang="en">states whether a job was successful or not</rdfs:comment>
    <rdfs:domain rdf:resource="&continuous_integration;CiBuild"/>
    <rdfs:range  rdf:resource="&xsd;boolean"/>
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  </dstore:OntologyAttribute>
  
    <!-- CiBuild > number > nonNegativeInteger -->
  <dstore:OntologyAttribute rdf:about="&continuous_integration;number">
    <rdfs:label xml:lang="en">number of a build</rdfs:label>
    <rdfs:comment xml:lang="en">number of a build</rdfs:comment>
    <rdfs:domain rdf:resource="&continuous_integration;CiBuild"/>
    <rdfs:range  rdf:resource="&xsd;nonNegativeInteger"/>
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  </dstore:OntologyAttribute>
  
  <!-- CIBuild > triggered_by_revision > string -->
  <dstore:OntologyAttribute rdf:about="&continuous_integration;triggered_by_revision">
    <rdfs:label xml:lang="en">id of the revision that triggered a build</rdfs:label>
    <rdfs:comment xml:lang="en">id of the revision that triggered a build</rdfs:comment>
    <rdfs:domain rdf:resource="&continuous_integration;CiBuild"/>
    <rdfs:range  rdf:resource="&xsd;string"/>
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
  </dstore:OntologyAttribute>
  
  
  <!-- CiBuild > triggeredByUser > Person -->
  <dstore:OntologyRelation rdf:about="&continuous_integration;triggeredByUser">
    <rdfs:label xml:lang="en">triggered By user</rdfs:label>
    <rdfs:comment xml:lang="en">The trigger of a build</rdfs:comment>
    <rdfs:domain rdf:resource="&continuous_integration;CiBuild"/>
    <rdfs:range  rdf:resource="&dstore;Agent"/>
    <rdfs:isDefinedBy rdf:resource="&continuous_integration;"/>
    <dstore:refersTo rdf:resource="&continuous_integration;ci_server_name"/>        
  </dstore:OntologyRelation>  
  
</rdf:RDF>