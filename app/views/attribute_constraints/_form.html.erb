<%= form_for(ac, :html => {:class => "needs_no_space edit_attribute_constraint"}) do |f| %>
  <% if ac.virtual? %>
    <%= render :partial => "magic", :locals => {:ac => ac, :f => f}%>
  <% else %>
    <%= link_to(fa_icon("magic"), attribute_constraint_magic_path(ac), :remote => true) %>
    <%= render :partial => "reality", :locals => {:ac => ac, :f => f, :possible => possible}%>
  <% end %>
  <%= link_to(fa_icon("times-circle"), attribute_constraint_path(ac), :remote => true, :method => :delete) %>
<% end %>